'use strict';

var request = require('request');

function ssoOlrRequest(url, json, callback) {
    request({
        json: json,
        method: 'POST',
        url: url
    }, function(err, res, body) {
        if(err || (body !== undefined && body.resultCode !== undefined && body.resultCode !== 0) || res.statusCode >= 400) {
            callback(body);
        } else {
            callback(null, body);
        }
    });
}

module.exports = ssoOlrRequest;
